@model List<Reserve>

@if (ViewBag.IsBlocked == true)
{
    <div class="text-center alert alert-warning">
        ⛔ به دلیل بدهی، امکان ثبت رزرو جدید ندارید. لطفاً ابتدا بدهی خود را تسویه کنید
    </div>
    <a asp-controller="Payment" asp-action="Pay" asp-route-type="Fine"
       class="btn btn-danger">پرداخت بدهی
    </a>
}
else{
<h2>📌 رزروهای فعال من</h2>

@if (!Model.Any())
{
        <p>رزروی ندارید.</p>
}
else
{
        <table class="table">
            <tr>
                <th>کتاب</th>
                <th>تاریخ رزرو</th>
                <th>انقضا</th>
                <th>عملیات</th>
            </tr>
        @foreach (var r in Model)
        {
                    <tr>
                        <td>@r.Book.Name</td>
                        <td>@r.ReservationDate.ToString("yyyy/MM/dd")</td>
                        <td>@r.ExpireDate.ToString("yyyy/MM/dd")</td>
                        <td>
                            <a asp-action="CancelReserve"
                       asp-route-id="@r.Id"
                       class="btn btn-danger btn-sm">
                                لغو
                            </a>
                        </td>
                    </tr>
        }
        </table>
}
}